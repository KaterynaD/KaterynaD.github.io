<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Wingdings 3";
	panose-1:5 4 1 2 1 8 7 7 7 7;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;
	font-weight:normal;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:9.0pt;
	font-family:"Calibri",sans-serif;
	color:#44546A;
	font-style:italic;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link="#0563C1" vlink="#954F72">

<div class=WordSection1>

<p class=MsoTitle>Auto Insurance Risk Classification and Claim Prediction</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoTocHeading>Contents</p>

<p class=MsoToc1><a href="#_Toc513026242">Introduction<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc513026243">Data Sources and Data Flow.<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026244">DW Data Model<span style='color:windowtext;
display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc513026245">Building Classification Model<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026246">Data select process<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026247">Features<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026248">Data Research at the level of data
base and excluding first set of features<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026249">Data set characteristics<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026250">Data Preparation<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026251">Data Profile and preliminary feature
importance ordering<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026252">XGB<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026253">Stratified fold<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026254">Data Balancing<span style='color:
windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026255">XGB Parameters<span style='color:
windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026256">Models Evaluation<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026257">Feature Importance<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026258">External Features<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026259">Feature Engineering<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc513026260">Simple Calculation<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc513026261">Frequency Encoding<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc513026262">Targeting Encoding<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc513026263">Classification Model<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026264">XGB Parameters<span style='color:
windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026265">Features<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc513026266">Classification Results<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026267">Gini coefficient for 8 train/test
sizes<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026268">80/20 % Train/Test results<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc513026269">ROC Curve<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc513026270">Confusion Matrix<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc513026271">Confidential interval<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026272">Feature Importance<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc513026273">Partial Dependency<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc513026274">Regression Model (loss cost)<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc513026275">DW Data Model for Predicted Data and
Models description<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc513026276">Pentaho SPOON ETL to predict and
re-train the model<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc513026277">Dashboards<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc513026278">Summary<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<p class=MsoNormal style='margin-left:.25in'><a name="_Ref512626665">&nbsp;</a></p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<h1><a name="_Toc513026242">Introduction</a></h1>

<p class=MsoNormal>The goal of the project is to build a dashboard to analyze
how risky are policies and effective current rates.</p>

<p class=MsoNormal>The current state of the data does not allow easily
accomplish even the first step - creating training and test data sets. So, the
first objective is to research available data sources and add into the
corporate Data Warehouse all needed data in a form available for further
processing.</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:0in'>After the predictive
model itself is ready I need a data model to keep the predictive model data and
results in DW and build an ETL process to predict the results and re-train the
model time to time .</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'><span
class=Heading1Char><span style='font-size:16.0pt;line-height:107%'>&nbsp;</span></span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'><a
name="_Toc513026243"><span class=Heading1Char><span style='font-size:16.0pt;
line-height:107%'>Data Sources and Data Flow</span></span></a> </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:0in'>It's only a
schematic description to provide understanding of the environment and
challenges:</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Production Transactional System: an XML-based data source. XMLs
are physically stored in varchar type columns in MS SQL database tables.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>A regular process converts some XML data into relational tables
in another MS SQL database. Historical reports are run from this database.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>ETL process loads data into the corporate DW.</p>

<p class=MsoNormal>Even available data in the relational form is a challenge
for DW ETL because there are no unique keys (except policies and claims), valid
foreign keys, last update dates and history. </p>

<p class=MsoListParagraph style='margin-left:0in'>DW original data model and
ETL process is a third-party product not fully customized for the company data
and processes. </p>

<h2><a name="_Toc513026244">DW Data Model</a></h2>

<p class=MsoNormal>Traditional DW approach is to create a slowly changing
dimension (SCD) type 2 for entities changing over time. Vehicle's Estimated Annual
Distance or Drivers MVR Status can be different in each term and it impacts
rates. It works best with transactional based fact table where you can see
what's changed in a risk attributes and how it impacts metrics. The dimension
is directly joined to a fact table.</p>

<p class=MsoNormal style='page-break-after:avoid'><a href="img/Kimball.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=381
height=158 id="Picture 29"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image001.jpg"
alt="Policy transaction schema with subtype automobile dimension table from Ralph Kimball The Data Warehouse Toolkit 3rd edition"></span></a></p>

<p class=MsoCaption>Figure 1 Policy transaction schema with subtype automobile from Ralph Kimball The Data Warehouse Toolkit 3rd edition</p>

<p class=MsoNormal>On the other hand, in ongoing monthly or yearly reports only
a current state of a policy at the end of a month is taken into account. For
historical reports only a last state of a policy term is taken into account. </p>

<p class=MsoNormal>Prediction data sets are more like historical reports. We
need some point in time when we take the data. The last policy state or policy
term state works for this purpose.</p>

<p class=MsoNormal>In a real word, the process is even more complex because it
is not just one object (vehicle) which can be in different states but 2
independent objects - vehicle and driver. They can change their states
independently.</p>

<p class=MsoNormal>Each of the objects has plenty (20+) attributes and
combining them into one table does not make sense. Especially, taking into
account we would like a similar approach for other line of business (Commercial
Properties, Homeowners, Dwelling) where the level of details for insured items
even more deep (200+ attributes).</p>

<p class=MsoNormal>Creating 2 traditional SCD dimensions type 2 for DIM_VEHICLE
and DIM_DRIVER is not a big deal. There are few issues however in our source
systems: missing unique entities IDs, change dates and historical information. Some
of this missing info can be added into the source data base from XML original
data source and adjusting current parsing procedure but it takes significant
amount of research, resources and time. So, for now some surrogate data are
used as unique entities ID's and change dates. We loss some information but
it's acceptable as for now. </p>

<p class=MsoNormal>The other issue of the available source data is the place of
the fields. Some vehicle attributes look not in proper place and the other
should be combined. I would use a policy level instead. More work is required
to investigate XML-based data source to get historical data in a proper format.</p>

<p class=MsoNormal>The dimensions are usually directly joined to fact tables to
track the history of changes in risks. And this is the other issue - the data
model in our DW is 4sightBI based and was designed without this level of
details (insured items in SCD type 2). There is also no separation by line of
business. We have just one set of FACT tables for all of them. E.g. all Auto
and Homeowners transactions are in one table. In this way, one row in a fact
table should have relation to DIM_VEHICLE and DIM_DRIVER and the other one to DIM_BUILDING.</p>

<p class=MsoNormal>It is not just a matter of adding new relations to Fact
tables but also adjusting ETL. The ETL process is built in Pentaho Spoon in a
way to support several different data base types (e.g. JavaScript based not T-SQL
or PL/SQL procedures). Adjusting and testing this type of process is not easy
and fast.</p>

<p class=MsoNormal>The good thing, however, there is a DIM_COVEREDRISK
dimension (and references in FACT tables) in the original data model. It's a
general table without specific to risk items attributes. </p>

<p class=MsoNormal>So, the solution is to reuse DIM_COVEREDRISK and join SCD
type 2 DIM_VEHICLE and DIM_DRIVER not to the fact tables directly but rather to
DIM_COVEREDRISK as a bridge table. The insured items dimensions from other line
of business also can be joined to fact tables via DIM_COVEREDRISK in the same
way. There are few type fields in the dimension and we can describe what
exactly dimension is joined in a row.</p>

<p class=MsoNormal>To make life easier I added several more columns in
DIM_COVERDRISK. It allows now to join a fact table row to an exact historical
record in SCD2 item dimension or to the item version corresponding to the end
of a specific term or policy.</p>

<p class=MsoNormal style='page-break-after:avoid'><a
href="img/4SightBI%20extension.png"><span style='color:windowtext;text-decoration:
none'><img border=0 width=303 height=243 id="Picture 2"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image002.jpg"
alt="Extension for 4SightBI DW schema, DIM_VEHICLE and DIM_DRIVER SCD type2 joined via DIM_COVEREDRISK to FACT_POLICYTRANSACTION"></span></a></p>

<p class=MsoCaption>Figure 2 Extension for 4SightBI DW schema, DIM_VEHICLE and
DIM_DRIVER SCD type2 joined via DIM_COVEREDRISK to FACT_POLICYTRANSACTION</p>

<h1>&nbsp;</h1>

<h1><a name="_Toc513026245">Building Classification Model</a></h1>

<p class=MsoNormal><a name="_Toc513026246"><span class=Heading2Char><span
style='font-size:13.0pt;line-height:107%'>Data select process</span></span></a></p>

<p class=MsoNormal>While DW model is still under construction, I used both
intermediate data source (a relation data base, but not DW star schema) and
data available in DW. The process (set of SQLs) is very cumbersome.</p>

<p class=MsoNormal>Only unique vehicle and primary driver combinations from the
last existing policy terms were used to create the train and test data set. It
means there are no repeatable vehicle and driver pairs with different
parameters (age) in the set even if they were insured for years. </p>

<p class=MsoNormal>HasClaim = 1 if there are one or more at fault claim for
driver-vehicle combination. At fault claims for non-primary drivers were added
into the data set to take into account all claims.</p>

<p class=MsoNormal>As expected there are only 5.5% of driver-vehicle
combinations with claims. It's comparable with other datasets described in the
open sources. </p>

<p class=MsoNormal>However, the dataset looks incomplete because non-primary
drivers and age changes without claims are not taken into account.</p>

<p class=MsoNormal>The process to get all needed data is still quite complex
and requires new structures in DW.</p>

<p class=MsoNormal>ToDo: </p>

<p class=MsoNormal>What happen if add in the data set all available policy
terms because in the approach described above the age (driver, license,
vehicle) is frozen? On the other hand, the samples will be dependable on each
other.</p>

<p class=MsoNormal>Try to add in the data set non-primary drivers - vehicle
combinations plus vehicles without drivers with all other drivers combinations</p>

<p class=MsoNormal>The claim rate may change to ~3%.</p>

<p class=MsoNormal><a name="_Toc513026247"><span class=Heading2Char><span
style='font-size:13.0pt;line-height:107%'>Features</span></span></a></p>

<p class=MsoNormal>I am new in Insurance industry and know little what can
impact claims. It is interesting to discover features on my own using machine
learning and compare to what is used in a real word. </p>

<p class=MsoNormal>There are available articles about using machine learning in
insurance but not a lot information or justification what features were
actually used. So, I started working with all features related to vehicles and
drivers I was able to find plus few calculated. At the end of the article I added
the final list of features which do impact the model.</p>

<p class=MsoNormal>Due to the data relation issues GEO information (zip,city)
were not added at the first stage. Though I do not believe it should impact at
fault claims. There is a garage code in Vehicle data so let's see.</p>

<p class=MsoNormal>Several features were added into the list from an external
source by VIN number. The idea was to check if there is something else which
impact the claims but not in the company data. The other reason is to get more
clean data. Some high cardinality categorical features in the company data are
not standardized and have even more levels then needed (manufacturer and
model).</p>

<p class=MsoNormal>External features:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>engine</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>height</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>length</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>width</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>make (manufacturer)</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>model</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>model year</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>model score</p>

<p class=MsoNormal>Few <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/tree/master/WebScrappers">web-scrappers</a>
were created to pull free available information by vehicle number</p>

<p class=MsoNormal><a href="https://www.vindecoderz.com/">https://www.vindecoderz.com</a></p>

<p class=MsoNormal><a href="https://trustvin.com/">https://trustvin.com/</a></p>

<p class=MsoNormal><a
href="http://www.carinsurance.com/calculators/average-car-insurance-rates.aspx">http://www.carinsurance.com/calculators/average-car-insurance-rates.aspx</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The age features (DriverAge, VehicleAge, HaveLicenseAge,
MVRStatusAge, etc) were calculated based on date type fields and the last known
transaction date for vehicle-driver pair or loss date.</p>

<p class=MsoNormal>Totally there were 60 features in the initial list. Most of
them are categorical with several high cardinality columns.</p>

<p class=MsoNormal><a href="tbl/Initial%20List%20of%20Features.htm">Here is the
initial list of features I started with</a></p>

<h2><a name="_Toc513026248">Data Research at the level of data base and
excluding first set of features</a></h2>

<p class=MsoNormal>When the data sources are known and the plan of data
selection is set we can review the available features if it even makes sense to
include them into the data set for further investigation. It's a simple step
and it's easy to perform while the data is in a data base using SQL.</p>

<p class=MsoNormal>What I verified at this step:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Total
number of records.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Number
of records in each class.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>What's
the percent of the values are empty(Null) or have default values if they are from
a DW. There are maybe attributes recently added to the system and not yet
populated for a representative amount of records. The other reason of high
level empty values is using customization in out of the box systems with a lot
default attributes not used in the company. Few records maybe populated by
mistake/training or in first customized versions. </p>

<p class=MsoNormal style='margin-left:.5in'>Migration data from retired systems
to a new one also may create not consistent set of features. If percent is
relatively low but a column is no longer used it does not make sense to rely on
the feature.</p>

<p class=MsoNormal style='margin-left:.5in'>If the percent is very high it does
not make sense to add the feature into the final data set.</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>%
of empty(Null) or default values per class. If one class has high percent and
the other one is almost always empty(default) it also does not make sense to
include it into the model. It may be an issue in the data collection.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Number
of unique values per each feature. If there is just one value it does not make sense
to continue research of this feature.</p>

<p class=MsoNormal><a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/fdataset_v1_default_values_analysis.xlsx">The
results can be found in this Excel workbook</a>.</p>

<h2><a name="_Toc513026249">Data set characteristics</a></h2>

<p class=MsoListParagraphCxSpFirst style='margin-left:.25in;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>It
consists from unique per company data vehicle-driver pairs</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Target
variable is HasClaim:</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1
if there were one or more claims in this particular vehicle-driver pair
(Minority class).</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in'>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>0
if no claims were observed for the whole life of the policy (Majority class).</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>50+
features.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Most
of the features are categorical (text).</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Several
of them are high cardinality categorical features (100+ levels).</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;text-indent:-.25in'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Highly
unbalanced (minority class is only 5.5%)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;text-indent:-.25in'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>There
are no null values, instead there are default values (the data were selected
form a DW)</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.25in;text-indent:-.25in'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
features are populated at least at 70% level. E.g. no one feature has more then
30% default values.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc513026250">Data Preparation</a></h2>

<p class=MsoListParagraph style='margin-left:0in'>Python was used at this stage
of project.</p>

<p class=MsoNormal>Most of the data in the data set are categorical. To feed
them into a machine learning algorithm in Python it should be converted into
numerical. </p>

<p class=MsoNormal>Traditionally <a href="https://en.wikipedia.org/wiki/One-hot">one-hot
encoding</a> is used to prevent the model to assume ordinal relationship
between encoded integer values for each categorical input variable.</p>

<p class=MsoNormal>According to <a
href="https://github.com/szilard/benchm-ml/issues/1">the discussion</a> and my
own several tests it looks like one-hot encoding is not needed for tree-based
algorithms.</p>

<p class=MsoNormal>I applied Pandas Categorical codes for each categorical
feature adding "_encd" to the name and save the results in a file to be used in
further research.</p>

<p class=MsoNormal>See <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Data%20Preparation/1.Encoding_fdata_v1.ipynb">this
file</a> for details.</p>

<p class=MsoNormal>Some statistical research (see below) can not work with high
cardinality columns. I tried not just clustering (Kmeans and Hclust) to limit
the number of levels but also targeting encoding using <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Data%20Preparation/2.TargetEncoding_fdata_v1.ipynb">this
code</a>. You can find more details regarding the method in Feature Engineering
section below.</p>

<h2><a name="_Toc513026251">Data Profile and preliminary feature importance
ordering</a></h2>

<p class=MsoNormal>At this stage I used R to get general information regarding
each feature: type, number of 0, null (in this case not applicable since I used
DW data where all nulls are replaced with a default value but can reveal some
issues in data joining and selection), infinity and unique values, samples of
values, Median, Mean, 3<sup>rd</sup> Qu, Max for numerical or levels for
categorical.</p>

<p class=MsoNormal>I rejected some features at this step where are two levels
but one of them have only very few records.</p>

<p class=MsoNormal><a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/R/EDACorrelation.Rmd">Features
correlation</a> is also calculated and visualized as a part of the data
profile.</p>

<p class=MsoNormal>I calculated Shapiro test to test normality of few numerical
values as a part of data profiling but in this case, it is optional because XGB,
which I was going to use later, does not need normalization for better results.
</p>

<p class=MsoNormal>The following methods were used to build base set of
features and start feature importance research: </p>

<p class=MsoListParagraphCxSpFirst style='margin-left:45.0pt;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/R/EDAHasClaimDependentFeatures.Rmd">Statistical</a>
(R):</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:81.0pt;text-indent:-.25in'><span
style='font-family:Wingdings'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>ChiSq test to test significance of the relation between
categorical features and target and Cramer V test to measure the association.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:81.0pt;text-indent:-.25in'><span
style='font-family:Wingdings'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span>Wilcox test to test dependence numerical features with the
target.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:45.0pt;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/R/EDAInformationValue.Rmd">Information
Values</a> (R) Though, if a sample size is small, the metric is not very
reliable</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:45.0pt;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/EDA%20Features%20Importance/EDA%20Boruta%20Features%20Selection%20v1.ipynb">Boruta
Features Selection</a> with Random Forest to rank features (Python).</p>

<p class=MsoListParagraphCxSpLast style='margin-left:45.0pt;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/EDA%20Features%20Importance/EDA%20XGB%20Features%20Importance%20v1.ipynb">XGB
Features Importance</a> with algorithm default parameters and random under
sampling for balancing (Python).</p>

<p class=MsoNormal><a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/EDA%20Features%20Importance/PCA%20v1.ipynb">Principal
Components Analysis</a> was also done, but it does not make sense in this case
because too many information is lost.</p>

<p class=MsoNormal>The output of this step is <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Features%20Summary.xlsx">few
consolidated tables</a>. I manually set feature importance based on the results
of all methods.</p>

<p class=MsoNormal>These features are most important according to the
preliminary research:</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=339
 style='width:254.0pt;margin-left:30.35pt;border-collapse:collapse'>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  background:#F2F2F2;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Feature</span></b></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border:solid windowtext 1.0pt;
  border-left:none;background:#F2F2F2;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Importance</span></b></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Driver Age</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>1</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Class</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>1</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Vehicle Age</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>1</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>MVR Status Age</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>1</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>MVR Status</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>1</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Estimated Annual Distance</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Occupation</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Driver Number</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Vehicle Body Type</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Good Driver</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Odometr Reading</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Marital Status</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Mature Driver</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Vehicle Number</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Carpool </span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Driver Status</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>ISO Rating Value</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Accident Prevention Course</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Daylight Driving </span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=224 nowrap valign=bottom style='width:168.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Driver Training Course</span></p>
  </td>
  <td width=115 nowrap valign=bottom style='width:86.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>2</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal align=center style='text-align:center'>&nbsp;</p>

<p class=MsoNormal>The rest are noise.</p>

<h2>&nbsp;</h2>

<h2><a name="_Toc513026252">XGB</a></h2>

<p class=MsoNormal><a href="https://en.wikipedia.org/wiki/Gradient_boosting">Gradient
Boosting</a> (GB) is a relatively new method for building insurance loss cost
models. It's widely used in recent machine learning competitions. There are
several advantages to comparing to the traditional Generalized Linear Models
and other machine learning algorithms.</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>GB works very well with the large number of categorical features.
It requires relatively less data preprocessing and knows how to handle missing
and imbalance data.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>We do have complex non-linear dependencies in the data and GB is
a better choice then methods based on linear algorithms (GLM). </p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Comparing to other non-linear methods like neutral networks it
does not require millions of samples to train.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>It's a "white-box" approach and provides interpretable results
via plots of features importance, partial dependencies and used decision trees.</p>

<p class=MsoNormal>There are several algorithms based on gradient boosting. <a
href="https://en.wikipedia.org/wiki/Xgboost">XGB</a> is faster and can be more
accurate then Adaboost. LightGB has the same performance but works better with
bigger data sets. In Kaggle competitions often all of them are used in an
ensemble (ToDo later). </p>

<p class=MsoNormal>The model stacking (including GLM based models) reduces
variance and provides better generalizability.</p>

<p class=MsoNormal>For the first step I used XGB alone.</p>

<p class=MsoNormal>I used 5000 trees (estimators) and 100 early stopping round
for training. </p>

<p class=MsoNormal>I did not tune these parameters just selected high number of
estimators and reasonable number of early stopping round to keep the model from
overfitting.</p>

<p class=MsoNormal>ToDo test if less number of trees get the same result</p>

<p class=MsoNormal style='margin-left:1.0in'>&nbsp;</p>

<h2><a name="_Toc513026253">Stratified fold</a></h2>

<p class=MsoNormal>To make sure the data are generalized well and maximaze the
usage of the information available in the training data I applied StratifiedKFold
from sklearn to select a model. This method preserves the percentage of samples
in each class. This is especially important in the case of highly imbalanced
data set. </p>

<p class=MsoNormal>The common practice is to use 10-fold stratified
cross-validation to get lower bias and variance.</p>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<h2><a name="_Toc513026254">Data Balancing</a></h2>

<p class=MsoNormal>The dataset is highly unbalanced. There are only 5.5% of
positive samples (have claims). A classification algorithm will tend to favor
the class with the largest proportion of observations (e.g. samples without
claims). We are interested in the samples with claims, minority class.</p>

<p class=MsoNormal>In my first experiments I used <a
href="http://contrib.scikit-learn.org/imbalanced-learn/stable/auto_examples/under-sampling/plot_random_under_sampler.html">Random
Under sampling</a> to remove majority of no claims samples from the training
data set. (See <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Balancing/Features%20Importance%20XGB%20Models%20Analysis%20RandomUnderSampler%20Ratio.ipynb">code</a>
to test different ratios.)</p>

<p class=MsoNormal>Later I started use scale_pos_weight XGB parameter. The best
value is 0.3. This approach provides a higher metric value.</p>

<p class=MsoNormal>See <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Balancing/XGB%20parameters%20Models%20Analysis%20Comparing%20To%20a%20BaseModel%20Scale_Pos_Weight.ipynb">code</a>
and the <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Scale%20Pos%20Weight%20%20Workbook.xlsx">results</a>.
I applied the same approach described below for models evaluation. A csv file
with model names and different scale_pos_weight values or Random Under sampling
ratios was created. The code reads the file, builds models and compare results.</p>

<h2><a name="_Toc513026255">XGB Parameters</a></h2>

<p class=MsoNormal style='line-height:105%'>I used a brute force to tune XGB
parameters<a href="https://en.wikipedia.org/wiki/Bayesian_optimization"><span
style='color:#0563C1'>: </span><span style='font-family:"Segoe UI",sans-serif;
color:#0563C1;background:white'>bayesian global optimization with gaussian
processes</span></a>.</p>

<p class=MsoNormal style='line-height:105%'>There is implementation in <a
href="https://github.com/fmfn/BayesianOptimization"><span style='color:#0563C1'>Python</span></a>
for <a
href="http://codingwiththomas.blogspot.com/2016/10/xgboost-bayesian-hyperparameter-tuning.html"><span
style='color:#0563C1'>XGB parameters tuning</span></a></p>

<p class=MsoNormal style='line-height:105%'>A few local maximum were found with
the same metric values. I selected a set with less overfitting.</p>

<p class=MsoNormal style='line-height:105%'>Traditional methods like GridSearchCV
did not find an optimal combination.</p>

<p class=MsoNormal style='line-height:105%'>Several modules were created to
test different parameters sets (<a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/tree/master/ModelParametersOptimization/XGB">BayesianOptimization</a>).
A notebook was created to test the approach, then it's converted in a python
program code which was run in a background mode.</p>

<p class=MsoNormal style='line-height:105%'>The code produces an output in a
file to monitor the progress (and stop if no progress anymore).</p>

<p class=MsoNormal style='line-height:105%'>The output was stored in a <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Parameters%20Workbook.xlsx">file</a>
to analyze.</p>

<h2><a name="_Toc513026256">Models Evaluation</a></h2>

<p class=MsoNormal>Imbalance data set is one of the most challenging problem. That's
why the right model evaluation method is a main research issue. Traditional
metrics (accuracy, sensitivity, specificity, precision) lead to a biased
classification when the classes are not equally distributed.</p>

<p class=MsoNormal>In my model evaluation process I used the area under the ROC
curve (Area under curve, AUC) and Gini coefficient. </p>

<p class=MsoNormal>AUC is equivalent to the probability that the classifier
will rank randomly chosen positive sample higher than a randomly chosen
negative sample. AUC value varies between 0.5 (random guessing) and 1. For at
fault claim prediction task it's usually 0.6-0.8 (fair to good performance).</p>

<p class=MsoNormal>The other metric used in imbalance data classification is a
chance-standardize variant of the AUC is Gini coefficient. It's related to AUC
in this way:</p>

<p class=MsoNormal>G = 2AUC-1</p>

<p class=MsoNormal>Gini coefficient values are between 0 and 1 (complete
separation between the 2 distribution). </p>

<p class=MsoNormal>Let's say G's are metric values obtained from the model on
different train/test sizes. They are random variables, normally distributed.</p>

<p class=MsoNormal>To compare one model performance to an other I used
two-tailed paired t test. The test asks the question: is the Gini coefficient
of the two system different</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Null hypothesis: the 2 models have the same Gini coefficient</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Alternate hypothesis: one of the model has a different Gini
coefficient</p>

<p class=MsoNormal>Paired t-test is used to calculate probability p that mean
of G's would arise from null hypothesis</p>

<p class=MsoNormal>If p is sufficiently small (typically &lt; 0.05) then reject
the null hypothesis.</p>

<p class=MsoNormal>To research models based on different feature sets I did not
create the sets dynamically. Instead, I described a model in an Excel
spreadsheet where each line is a model and a column is a feature name (original
or engineered). The spreadsheet is converted in an csv file and used in the
code. The code reads the model definition from the file and run them one by one
on 8 train/test sizes to calculate the metrics. Each model is compared to the
first one described in the file (BaseModel) to get probability from t test.
Based on the p value each model is categorized in one of the 3 groups: 1 - no
changes, statistically the same as the BaseModel, 2 - significantly better then
the BaseModel and 3 - significantly worse then the BaseModel.</p>

<p class=MsoNormal>The results (models metrics values, p and t values from
t-test, group) are saved in an other csv file after each model run and can be
reviewed while the main code is still running.</p>

<p class=MsoNormal>At the end, the file with results are saved together with
model descriptions to simplify analyzing and historical references. </p>

<p class=MsoNormal style='line-height:105%'>In <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Models%20Workbook.xlsx">this
Excel workbook</a> you can review the model descriptions tabs (they are saved
as csv files and used in the code) and the output results. See All Individual
Features tab as an example of a models tab and All Individual Features Results
tab with the output.</p>

<p class=MsoNormal>Several Python notebooks and programs were created to read
the model descriptions from csv files, apply some feature engineering if needed
and output the comparison between the models. The notebooks were used to test
the approach and then converted to a code and run in a background mode. You can
find the links specific for each step below. <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/Monitor.ipynb">Monitor</a>
notebook was used to review already analyzed models results from a program
running in the background. The other Monitor (<a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/Models%20Results%20Visualization.ipynb">Models
Results Visualization</a>) notebook builds charts to compare overfitting
between the models.</p>

<p class=MsoNormal style='margin-left:.75in'>&nbsp;</p>

<h2><a name="_Toc513026257">Feature Importance</a></h2>

<p class=MsoNormal style='line-height:105%'>Based on the information I gathered
on Data Profile step I selected few features which are important according to
all methods I applied for the initial research (base set marked as group 1 in
the table above).</p>

<p class=MsoNormal style='line-height:105%'>Next, I added other features one by
one alone to the base set and compare results to the base set result.</p>

<p class=MsoNormal style='line-height:105%'>Most of them are just noisy
features and did not improve the result at all. If there is a positive change
in the metric it is not statistically significant.</p>

<p class=MsoNormal style='line-height:105%'>Some of the features (like Relationship
To Insured) even decreased the result statistically significantly.</p>

<p class=MsoNormal>To find this bad feature I used Lesion studies. To
understand what contributes to a model I removed (lesioning) features from a
model.</p>

<p class=MsoNormal style='line-height:105%'>Here is the <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/Comparing%20To%20BaseModel.ipynb">notebook</a>
used to compare a Base Model (base set of features) to other models with
addition more or one features. See also the <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/CompareToBaseModel.py">code</a>
with the same functionality.</p>

<p class=MsoNormal style='line-height:105%'>The final 21 features were
investigated in a more traditional way. I reviewed partial dependency of each
feature according to XGB Feature Importance order starting from the less
important.</p>

<p class=MsoNormal style='line-height:105%'>Several features were rejected
because if there is a dependency from a feature it is not dependency on the
feature value but rather how this information is collected in the original
system.</p>

<p class=MsoNormal style='line-height:105%'>Let's say there are 3 feature
values: "Yes", "No" and "Unknown" (no value in the system). "Yes" and "No" have
approximately the same probability of having claim and only "Unknown" is
different. It looks like this information is collected specifically for drivers
with claims. If it's a new driver in the system we can not predict using this
feature. </p>

<h2><a name="_Toc513026258">External Features</a></h2>

<p class=MsoNormal style='line-height:105%'>There are several features
describing vehicle parameters added from public data sources by VIN number.
Since they are not easy available I review their performance in a separate
step.</p>

<p class=MsoNormal style='line-height:105%'>Only 2 of them are really
important: extranal_length and external_width</p>

<p class=MsoNormal style='line-height:105%'>The rest does not change the model
performance statistically significant.</p>

<h2><a name="_Toc513026259">Feature Engineering</a></h2>

<p class=MsoNormal>Simple Calculation is the way to improve mostly numerical
features output. Though I tried encoded values of categorical features.</p>

<p class=MsoNormal>Frequency and Targeting Encoding is the way to deal with
categorical features. No one high cardinality categorical feature was
recognized as useful at Feature Importance step. I added these methods to the
research with a thought to improve the high cardinality features performance.</p>

<p class=MsoNormal>The model descriptions and results are in <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Feature%20Engineering%20Workbook.xlsx">Feature
Engineering Workbook.xlsx</a>.</p>

<h3><a name="_Toc513026260">Simple Calculation</a></h3>

<p class=MsoNormal>At this step I investigated if there is any positive impact
if I will use sum or difference or multiplication two or more features. </p>

<p class=MsoNormal>In the Models spreadsheet I added one more column (Formula)
to keep the expression to investigate. The code builds the dynamic feature on a
fly based on the column and compare a model with the engineered feature to a
Base Model.</p>

<p class=MsoNormal>I did not find any visible improvement except 2 cases:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>If
features are strong by themselves, the combination is also strong but not
statistically significant. It does not make sense to spend resources on
transformation if we can include in the final model raw features and have the
same improvement</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>[Driver
Age] - [Age when Driver obtained the License] e.g. Driver License Age works
much better then just [Age when Driver obtained the License]</p>

<p class=MsoNormal>Here is the <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/Simple%20calculated%20feature.ipynb">notebook</a>
and <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/SimpleCalculatedFeature.py">code</a>
to apply this type of engineering.</p>

<h3><a name="_Toc513026261">Frequency Encoding</a></h3>

<p class=MsoNormal>The idea of this method is to replace categorical feature
values with numbers how frequently they are appeared in the training set. </p>

<p class=MsoNormal>I compared each encoded categorical feature to a base set of
numerical features only to see if there is a better model performance then
adding raw categorical feature. E.g. I have 2 sets of models where BaseModel is
the same, only numerical features, and the rest are raw categorical in one set
and encoded in the other set.</p>

<p class=MsoNormal>There is no significant improvement in any encoded categorical
feature. Few features are better in the encoded form comparing to a base set of
numerical features only but the effect disappeared when the encoded feature is
added into the full model (other categorical features present). </p>

<p class=MsoNormal>Interesting fact regarding 2 high cardinality features:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Manufacturer is an original feature from the system. The content
is inconsistent. Several acronyms and similar words can be used for the same
manufacturer: Toyota, TYTA, etc</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>External_make is a feature found by VIN number in a public
database. The names are standardized, e.g.it's always Toyota</p>

<p class=MsoNormal>Performance of the both features is low without encoding.
It's much better with frequency encoding. But performance of External_Make,
standardized feature, is higher then Manufacturer. </p>

<p class=MsoNormal style='margin-left:63.0pt'>&nbsp;</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='margin-left:30.35pt;border-collapse:collapse'>
 <tr style='height:15.0pt'>
  <td nowrap valign=bottom style='border:solid windowtext 1.0pt;background:
  #D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Feature</span></b></p>
  </td>
  <td width=85 nowrap valign=bottom style='width:63.75pt;border:solid windowtext 1.0pt;
  border-left:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Mean (Gini
  Coefficient)</span></b></p>
  </td>
  <td width=249 nowrap valign=bottom style='width:186.5pt;border:solid windowtext 1.0pt;
  border-left:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Comment</span></b></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td nowrap valign=bottom style='border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Manufacturer</span></p>
  </td>
  <td width=85 nowrap valign=bottom style='width:63.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>0.315</span></p>
  </td>
  <td width=249 valign=bottom style='width:186.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Raw value from the system</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td nowrap valign=bottom style='border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Manufacturer</span></p>
  </td>
  <td width=85 nowrap valign=bottom style='width:63.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>0.319</span></p>
  </td>
  <td width=249 valign=bottom style='width:186.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Frequency encoded</span></p>
  </td>
 </tr>
 <tr style='height:30.0pt'>
  <td style='border:solid windowtext 1.0pt;border-top:none;background:white;
  padding:0in 5.4pt 0in 5.4pt;height:30.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>external_make</span></p>
  </td>
  <td width=85 style='width:63.75pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:30.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>0.315</span></p>
  </td>
  <td width=249 valign=bottom style='width:186.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:30.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>External feature - Manufacturer value found
  by VIN number from a public database</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td nowrap valign=bottom style='border:solid windowtext 1.0pt;border-top:
  none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>external_make</span></p>
  </td>
  <td width=85 nowrap valign=bottom style='width:63.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>0.322</span></p>
  </td>
  <td width=249 valign=bottom style='width:186.5pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Frequency encoded</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:99.0pt'>&nbsp;</p>

<p class=MsoNormal>The <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/Frequency%20Encoding.ipynb">notebook</a>
and <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/FrequencyEncoding.py">code</a>
for frequency encoding.</p>

<h3><a name="_Toc513026262">Targeting Encoding</a></h3>

<p class=MsoNormal>The basic idea of the encoding is to replace categorical
values with an estimate of the probability of positive target (HasClaim=1)
using Bayesian approach. <span style='color:#24292E;background:white'>Target
encoding is done according to the </span><a
href="https://kaggle2.blob.core.windows.net/forum-message-attachments/225952/7441/high%20cardinality%20categoricals.pdf"><span
style='background:white'>paper by Daniele Micci-Barreca</span></a><span
style='color:#24292E;background:white'>.</span></p>

<p class=MsoNormal>Since the target attribute is involved in the encoding it's
important to make sure the model is not overfitted. E.g. only training data are
involved into the process. For the same purpose noise is added to the data.
It's decrease the output metric but prevent overfitting.</p>

<p class=MsoNormal>The model spreadsheet a little bit more complex because it
includes 3 more columns for each feature: feature name itself, min_samples_leaf,
smoothing and noise_level. These 3 additional descriptors are used as
parameters into target encoding function. -1 in all 3 of them means do not
apply target encoding for this feature.</p>

<p class=MsoNormal>In my previous experiments I did not find any impact of min_samples_leaf
and smoothing. These set of tests investigates only a change in noise_level. </p>

<p class=MsoNormal>As in frequency encoding step I compared performance of an
targeting encoded feature to a base set of numerical features and raw feature
performance. </p>

<p class=MsoNormal>In addition, I investigated if there is any value in binning
targeting encoded features. E.g. after the feature encoded, the full range of
values is separated to 10 bins and instead of an encoded value, a corresponded
bin is used in a model.</p>

<p class=MsoNormal>Targeting encoding does not improve the model performance.
In some cases the result even worse then without encoding. </p>

<p class=MsoNormal>Binned targeting encoding has even worse result.</p>

<p class=MsoNormal>Manufacturer performance is improved comparing to a model
without encoding but less then in targeting encoding. </p>

<p class=MsoNormal>No change in external_make feature performance with the use
of targeting encoding.</p>

<p class=MsoNormal>There is no sense to use targeting encoding to improve high
cardinality features performance in this data set.</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Targeting Encoding <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/Targeting%20Encoding.ipynb">notebook</a>
and <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/TargetingEncoding.py">code</a></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'><span
style='font-family:Symbol'>.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Targeting Encoding with Binning <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/Targeting%20Encoding%20with%20Binning.ipynb">notebook</a>
and <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/blob/master/Finding%20Best%20Model/XGB/TargetingEncodingwithBinning.py">code</a></p>

<h1>&nbsp;</h1>

<h1><a name="_Toc513026263">Classification Model</a></h1>

<p class=MsoNormal>There are 2 final models were created. Both have the same
parameters but different feature sets. The Extended model includes 2 additional
external parameters: vehicle length and width.</p>

<p class=MsoNormal style='margin-left:.5in'>&nbsp;</p>

<h2><a name="_Toc513026264">XGB Parameters</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=383
 style='width:287.0pt;margin-left:30.2pt;border-collapse:collapse'>
 <tr style='height:15.0pt'>
  <td width=128 nowrap valign=bottom style='width:96.0pt;border:solid windowtext 1.0pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Parameter</span></b></p>
  </td>
  <td width=255 nowrap valign=bottom style='width:191.0pt;border:solid windowtext 1.0pt;
  border-left:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Value</span></b></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=128 nowrap valign=bottom style='width:96.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>objective</span></p>
  </td>
  <td width=255 nowrap valign=bottom style='width:191.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>binary:logistic</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=128 nowrap valign=bottom style='width:96.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>scale_pos_weight</span></p>
  </td>
  <td width=255 nowrap valign=bottom style='width:191.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>0.3</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=128 nowrap valign=bottom style='width:96.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>colsample_bytree</span></p>
  </td>
  <td width=255 nowrap valign=bottom style='width:191.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>0.9</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=128 nowrap valign=bottom style='width:96.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>eta</span></p>
  </td>
  <td width=255 nowrap valign=bottom style='width:191.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>0.01</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=128 nowrap valign=bottom style='width:96.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>max_depth</span></p>
  </td>
  <td width=255 nowrap valign=bottom style='width:191.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>4</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=128 nowrap valign=bottom style='width:96.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>colsample_bylevel</span></p>
  </td>
  <td width=255 nowrap valign=bottom style='width:191.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>0.2</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:.5in'>The rest are default</p>

<h2><a name="_Toc513026265">Features</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=392
 style='width:294.0pt;margin-left:30.2pt;border-collapse:collapse'>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Base</span></b></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border:solid windowtext 1.0pt;
  border-left:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Extended</span></b></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>classcd</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>classcd</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>driverage</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>driverage</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>driverage-havelicenseage</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>driverage-havelicenseage</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>vehicleage</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>vehicleage</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>estimatedannualdistance</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:red'>external_length_in</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>ratingvalue</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>estimatedannualdistance</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>vehbodytypecd</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>ratingvalue</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>mvrstatusage</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:red'>external_width_in</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>mvrstatus</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>mvrstatusage</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>drivernumber</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>mvrstatus</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>vehnumber</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>drivernumber</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>gooddriverind</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>vehbodytypecd</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>acci_last_infractionage</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>vehnumber</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>maritalstatuscd</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>gooddriverind</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>carpoolind</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>acci_last_infractionage</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>gendercd</span></p>
  </td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>maritalstatuscd</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:15.0pt'></td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>carpoolind</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=179 nowrap valign=bottom style='width:134.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:15.0pt'></td>
  <td width=213 nowrap valign=bottom style='width:160.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>gendercd</span></p>
  </td>
 </tr>
</table>

<h1>&nbsp;</h1>

<h1><a name="_Toc513026266">Classification Results</a></h1>

<h2><a name="_Toc513026267">Gini coefficient for 8 train/test sizes</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=260
 style='width:194.8pt;margin-left:30.2pt;border-collapse:collapse'>
 <tr style='height:24.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;background:
  white;padding:0in 5.4pt 0in 5.4pt;height:24.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>Model</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border:solid windowtext 1.0pt;border-left:
  none;background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:24.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><span style='font-size:9.0pt;
  font-family:"Arial",sans-serif;color:black'>Base</span></p>
  </td>
  <td width=65 style='width:48.85pt;border:solid windowtext 1.0pt;border-left:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:24.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><span style='font-size:9.0pt;
  font-family:"Arial",sans-serif;color:black'>Extended</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>S0.45</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.409827</span></p>
  </td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.413367</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>S0.4</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.416889</span></p>
  </td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.419341</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>S0.35</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.418909</span></p>
  </td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.420991</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>S0.3</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.418788</span></p>
  </td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.421717</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>S0.25</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.419003</span></p>
  </td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.420827</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>S0.2</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.421668</span></p>
  </td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.424555</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>S0.15</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.419313</span></p>
  </td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.420508</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>S0.1</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.416097</span></p>
  </td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.42026</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>Mean</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.417562</span></p>
  </td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.420196</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>t-pvalue</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'></td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>0.138648</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>t-statistic</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'></td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>-1.57038</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=84 style='width:62.75pt;border:solid windowtext 1.0pt;border-top:
  none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:9.0pt;font-family:"Arial",sans-serif;
  color:black'>Group</span></b></p>
  </td>
  <td width=111 style='width:83.2pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:whitesmoke;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'></td>
  <td width=65 style='width:48.85pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:9.0pt;font-family:
  "Arial",sans-serif;color:black'>1</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:.75in'>&nbsp;</p>

<p class=MsoNormal>In test on 8 train/test sizes Extended model has a little
bit higher result but statistically not significantly higher then Base model.</p>

<p class=MsoNormal>Both models have a similar dependency train and test results
on test size. The more training data the close lines to each other.</p>

<p class=MsoNormal style='page-break-after:avoid'><a
href="img/Base%20Model%20Train%20and%20Test%20results.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=377
height=190 id="Picture 32"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image003.png"
alt="Base Model Train and Test results"></span></a></p>

<p class=MsoCaption style='margin-left:.25in'>Figure 3 Base Model Train and
Test results</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='page-break-after:avoid'><a
href="img/Extended%20Model%20Train%20and%20Test%20results.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=377
height=178 id="Picture 33"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image004.png"
alt="Extended Model Train and Test results"></span></a></p>

<p class=MsoCaption>Figure 4 Extended Model Train and Test results</p>

<p class=MsoNormal>The result below is a random in some sense but can explain
what's behind the metric we received.</p>

<p class=MsoNormal>To prepare data and charts below I used code from <a
href="https://github.com/KaterynaD/Auto-Insurance-Risk-Classification-and-Claim-Prediction/tree/master/XGBFinalModel">this
folder</a>.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc513026268">80/20 % Train/Test results</a></h2>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=424
 style='width:318.0pt;margin-left:30.2pt;border-collapse:collapse'>
 <tr style='height:15.0pt'>
  <td width=159 nowrap valign=bottom style='width:119.0pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>&nbsp;<b>Model</b></span></p>
  </td>
  <td width=135 nowrap valign=bottom style='width:101.0pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Base</span></b></p>
  </td>
  <td width=131 nowrap valign=bottom style='width:98.0pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='color:black'>Extended</span></b></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=159 nowrap valign=bottom style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Test Gini</span></p>
  </td>
  <td width=135 nowrap valign=bottom style='width:101.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>0.420893</span></p>
  </td>
  <td width=131 nowrap valign=bottom style='width:98.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>0.423917</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=159 nowrap valign=bottom style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>Test ROC_AUC</span></p>
  </td>
  <td width=135 nowrap valign=bottom style='width:101.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>0.710447</span></p>
  </td>
  <td width=131 nowrap valign=bottom style='width:98.0pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='color:black'>0.711958</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:.75in'>&nbsp;</p>

<h3><a name="_Toc513026269">ROC Curve</a></h3>

<p class=MsoNormal style='page-break-after:avoid'><a href="img/ROC%20Curves.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=246
height=173 id="Picture 3"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image005.png"
alt="Base and Extended Models ROC Curves"></span></a></p>

<p class=MsoCaption>Figure 5 Base and Extended Models ROC Curves</p>

<h3><a name="_Toc513026270">Confusion Matrix</a></h3>

<p class=MsoNormal><b>Base Model</b></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=236
 style='width:177.1pt;margin-left:30.2pt;border-collapse:collapse'>
 <tr style='height:15.0pt'>
  <td width=69 nowrap valign=bottom style='width:51.55pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><b><span style='color:black'>True Positive</span></b></p>
  </td>
  <td width=45 nowrap valign=bottom style='width:33.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>930</span></p>
  </td>
  <td width=69 nowrap valign=bottom style='width:51.55pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><b><span style='color:black'>False Positive</span></b></p>
  </td>
  <td width=54 nowrap valign=bottom style='width:40.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>9727</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=69 nowrap valign=bottom style='width:51.55pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><b><span style='color:black'>False Negative</span></b></p>
  </td>
  <td width=45 nowrap valign=bottom style='width:33.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>420</span></p>
  </td>
  <td width=69 nowrap valign=bottom style='width:51.55pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><b><span style='color:black'>True Negative</span></b></p>
  </td>
  <td width=54 nowrap valign=bottom style='width:40.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>15498</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><b>Extended Model</b></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=236
 style='width:177.1pt;margin-left:30.2pt;border-collapse:collapse'>
 <tr style='height:15.0pt'>
  <td width=69 nowrap valign=bottom style='width:51.55pt;border:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><b><span style='color:black'>True Positive</span></b></p>
  </td>
  <td width=45 nowrap valign=bottom style='width:33.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>924</span></p>
  </td>
  <td width=69 nowrap valign=bottom style='width:51.55pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><b><span style='color:black'>False Positive</span></b></p>
  </td>
  <td width=54 nowrap valign=bottom style='width:40.5pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>9552</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=69 nowrap valign=bottom style='width:51.55pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><b><span style='color:black'>False Negative</span></b></p>
  </td>
  <td width=45 nowrap valign=bottom style='width:33.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>426</span></p>
  </td>
  <td width=69 nowrap valign=bottom style='width:51.55pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><b><span style='color:black'>True Negative</span></b></p>
  </td>
  <td width=54 nowrap valign=bottom style='width:40.5pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:black'>15673</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:.75in'>&nbsp;</p>

<h3><a name="_Toc513026271">Confidential interval</a></h3>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=293
 style='width:220.0pt;margin-left:30.2pt;border-collapse:collapse'>
 <tr style='height:15.0pt'>
  <td width=159 nowrap valign=bottom style='width:119.0pt;border:solid windowtext 1.0pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='color:black'>Number of samples (n)</span></b></p>
  </td>
  <td width=135 nowrap style='width:101.0pt;border:solid windowtext 1.0pt;
  border-left:none;background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>26575</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:10.0pt;font-family:"Arial",sans-serif;
  color:black'>for 95% confidence Zn</span></b></p>
  </td>
  <td width=135 nowrap style='width:101.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>1.96</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:.25in'>&nbsp;</p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=424
 style='width:318.0pt;margin-left:30.2pt;border-collapse:collapse'>
 <tr style='height:15.0pt'>
  <td width=159 nowrap valign=bottom style='width:119.0pt;border:solid windowtext 1.0pt;
  background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='color:black'>Model</span></b></p>
  </td>
  <td width=135 nowrap style='width:101.0pt;border:solid windowtext 1.0pt;
  border-left:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>Base</span></b></p>
  </td>
  <td width=131 nowrap style='width:98.0pt;border:solid windowtext 1.0pt;
  border-left:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>Extended</span></b></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=159 nowrap valign=bottom style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='color:black'>Number of errors:</span></b></p>
  </td>
  <td width=135 nowrap style='width:101.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>10147</span></p>
  </td>
  <td width=131 nowrap style='width:98.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>9978</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=159 nowrap valign=bottom style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='color:black'>Error</span></b></p>
  </td>
  <td width=135 nowrap style='width:101.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>0.381825</span></p>
  </td>
  <td width=131 nowrap style='width:98.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>0.375466</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;background:#D9D9D9;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='font-size:10.0pt;font-family:"Arial",sans-serif;
  color:black'>Confidence Interval</span></b></p>
  </td>
  <td width=135 nowrap style='width:101.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>0.00298</span></p>
  </td>
  <td width=131 nowrap style='width:98.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=right style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:right;line-height:normal'><span style='font-size:10.0pt;
  font-family:"Arial",sans-serif;color:black'>0.00297</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:.75in'>&nbsp;</p>

<p class=MsoNormal><b>Base Model</b>: With approximately 85% probability, the
true error 0.382 lies in the interval +/-0.003</p>

<p class=MsoNormal><b>Extended Model</b>: With approximately 85% probability,
the true error 0.375 lies in the interval +/-0.003</p>

<p class=MsoNormal>As you can see, the main improvement in Extended model is
moving 200 vehicles from False Positive to True Negative due the vehicles
dimensions.</p>

<h2><a name="_Toc513026272">Feature Importance</a></h2>

<p class=MsoNormal style='page-break-after:avoid'><a
href="img/Base%20Model%20Feature%20Importance.png"><span style='color:windowtext;
text-decoration:none'><img border=0 width=310 height=246 id="Picture 34"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image006.png"
alt="Base Model Feature Importance"></span></a></p>

<p class=MsoCaption>Figure 6 Base Model Feature Importance</p>

<p class=MsoNormal style='page-break-after:avoid'><a
href="img/Extended%20Model%20Feature%20Importance.png"><span style='color:windowtext;
text-decoration:none'><img border=0 width=310 height=268 id="Picture 35"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image007.png"
alt="Extended Model Feature Importance"></span></a></p>

<p class=MsoCaption>Figure 7 Extended Model Feature Importance</p>

<p class=MsoNormal>Age-related features are most important: driver age, driver
license age, vehicle age, MVR Status Age. Class is also based on driver license
age or vehicle age plus driver sender and marital status.</p>

<p class=MsoNormal>Gender is not very important and can be also removed.</p>

<h2><a name="_Toc513026273">Partial Dependency</a></h2>

<p class=MsoNormal>Class is most important feature. It's based on several
attributes of driver and vehicle together. It was added to Vehicle table in the
relation data base but it rather belongs to something what's joined vehicle and
driver together (policy or risk or applied rates or discounts table).</p>

<p class=MsoNormal>Apparently, class codes system is different in different
states/products or rating. It is not easy to extract codes subsystems to show
dependency. One of them is quite easy: There is a subsystem based on gender,
marital status and driver license age. NNM(S)M(F) where NN is the driver
license age, M is married, S is single and the second M is male, F is female. </p>

<p class=MsoNormal>Single Female have a higher probability of an accident
starting from 19 years of driving. The cut-off driver license age for the rest
of the population is 20 years.</p>

<p class=MsoNormal>Interesting, calculated driver license age, gender and
vehicle age features without Class do not provide the same level of the metric.
I think it's because there are missing values in the database and the date of
obtaining of the driver license maybe the date of the current driver license,
not the original.</p>

<table class=MsoTableGrid border=0 cellspacing=0 cellpadding=0
 style='margin-left:-.25in;border-collapse:collapse;border:none'>
 <tr>
  <td width=309 valign=top style='width:231.8pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.25in;margin-bottom:.0001pt;line-height:normal'><a
  href="img/Class%20Single%20Female.png"><span style='color:windowtext;
  text-decoration:none'><img border=0 width=301 height=203 id="Picture 36"
  src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image008.png"
  alt="Single Female"></span></a></p>
  </td>
  <td width=291 valign=top style='width:218.2pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.25in;margin-bottom:.0001pt;line-height:normal'><a
  href="img/Class%20Single%20Male.png"><span style='color:windowtext;
  text-decoration:none'><img border=0 width=281 height=202 id="Picture 37"
  src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image009.png"
  alt="Single Male"></span></a></p>
  </td>
 </tr>
 <tr>
  <td width=309 valign=top style='width:231.8pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.25in;margin-bottom:.0001pt;line-height:normal;page-break-after:
  avoid'><a href="img/Class%20Married%20Female.png"><span style='color:windowtext;
  text-decoration:none'><img border=0 width=302 height=203 id="Picture 39"
  src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image010.png"
  alt="Married Female"></span></a></p>
  <p class=MsoCaption style='margin-left:.25in'><span style='font-size:10.0pt;
  color:white'>Figure </span><span
  style='font-size:10.0pt;color:white'>8</span><span style='font-size:10.0pt;
  color:white'> Partial Dependencies for Single and Married Female and Male</span></p>
  <p class=MsoCaption style='margin-left:.25in'><span style='font-size:1.0pt;
  color:white'>Figure </span><span
  style='font-size:1.0pt;color:white'>9</span></p>
  </td>
  <td width=291 valign=top style='width:218.2pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.25in;margin-bottom:.0001pt;line-height:normal'><a
  href="img/Class%20Married%20Male.png"><span style='color:windowtext;
  text-decoration:none'><img border=0 width=281 height=202 id="Picture 38"
  src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image011.png"
  alt="Married Male"></span></a></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoCaption>Figure 8 Partial Dependencies for Single and Married Female
and Male</p>

<p class=MsoNormal>Driver Age is a second by importance feature. In fact, Class
and Driver Age are almost the same by importance. Some models from the ensemble
has Class as the first one, the others - driver Age. </p>

<p class=MsoNormal style='page-break-after:avoid'><a href="img/Driver%20Age.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=313
height=202 id="Picture 1"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image012.png"
alt=" Partial Dependency for Driver Age "></span></a></p>

<p class=MsoCaption>Figure 10 Partial Dependency for Driver Age</p>

<p class=MsoNormal>The risk of an accident is decreased from 20 to 25 years,
then there is a big plateau between 25 and 57 years. It's gradually increased
after 57 years and reach maximum at 81 years.</p>

<p class=MsoNormal>License Age (the difference between driver age and the age
when the driver got the license).</p>

<p class=MsoNormal style='page-break-after:avoid'><a href="img/License%20Age.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=372
height=202 id="Picture 4"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image013.png"
alt="Partial Dependency for License Age "></span></a></p>

<p class=MsoCaption>Figure 11 Partial Dependency for License Age</p>

<p class=MsoNormal>In general, it has approximately the same dependency as
Driver Age. Decreased from 4 years till 12 years (20 - 28 years driver age),
then a plateau till 48 years (64 years driver age) with maximum about 69 years
(85 years driver age)</p>

<p class=MsoNormal>Vehicle Age. The plateau is till 9 years old and then the
risk decreases. Apparently, the old vehicles are changed to newer and older if
they are kept used less or more carefully.</p>

<p class=MsoNormal style='page-break-after:avoid'><a href="img/Vehicle%20Age.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=324
height=202 id="Picture 5"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image014.png"
alt="Partial Dependency for Vehicle Age"></span></a></p>

<p class=MsoCaption>Figure 12 Partial Dependency for Vehicle Age</p>

<p class=MsoNormal>Vehicle dimensions (length and width in inches). The smaller
(shorter and narrower) the vehicle, the less risk of an accident. Taking into
account, the most of the accidents are related to parking it does make sense.
It's much easy to park SMART then a truck or VAN.</p>

<table class=MsoTableGrid border=0 cellspacing=0 cellpadding=0
 style='margin-left:-5.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=286 valign=top style='width:214.2pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.25in;margin-bottom:.0001pt;line-height:normal;page-break-after:
  avoid'><a href="img/Length.png"><span style='color:windowtext;text-decoration:
  none'><img border=0 width=234 height=202 id="Picture 7"
  src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image015.png"
  alt=" Partial Dependency Vehicle Length,in "></span></a></p>
  <p class=MsoCaption style='margin-left:.25in'>Figure 13 Partial Dependency
  Vehicle Length,in</p>
  </td>
  <td width=298 valign=top style='width:3.1in;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.25in;margin-bottom:.0001pt;line-height:normal;page-break-after:
  avoid'><a href="img/Width.png"><span style='color:windowtext;text-decoration:
  none'><img border=0 width=251 height=202 id="Picture 31"
  src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image016.png"
  alt="Partial Dependency Vehicle Width,in"></span></a></p>
  <p class=MsoCaption style='margin-left:.25in'>Figure 14 Partial Dependency
  Vehicle Width,in</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:9.0pt'>&nbsp;</p>

<p class=MsoNormal>Estimated Annual Distance is a simple one. The more you
drive, the higher probability of an accident with a cut off point approximately
3,000 miles</p>

<p class=MsoNormal style='text-align:justify;page-break-after:avoid'><a
href="img/Estimated%20Annual%20Distance.png"><span style='color:windowtext;
text-decoration:none'><img border=0 width=347 height=203 id="Picture 41"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image017.png"
alt="Partial Dependency Estimated Annual Distance"></span></a></p>

<p class=MsoCaption style='text-align:justify'>Figure 15 Partial Dependency Estimated
Annual Distance</p>

<p class=MsoNormal>Rating Value. Vehicles with a higher rating have less chance
to be in an accident. Though, the feature is not complete in the data. Looks
like it's spread by few separated fields in the intermediate data base and not
populated correctly in each run of the conversion from XML to a relation
structure.</p>

<p class=MsoNormal style='text-align:justify;page-break-after:avoid'><a
href="img/ISO%20Rating.png"><span style='color:windowtext;text-decoration:none'><img
border=0 width=298 height=203 id="Picture 42"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image018.png"
alt="Partial Dependency ISO Rating"></span></a></p>

<p class=MsoCaption style='text-align:justify'>Figure 16 Partial Dependency ISO
Rating</p>

<p class=MsoNormal>MVR Status and Age. The chance of an accident is lower just
after a hit in terms of status and age. The more time after an accident the
higher possibility of a new one. And I already mentioned the fact, the age
importance is stronger, then the status.</p>

<table class=MsoTableGrid border=0 cellspacing=0 cellpadding=0
 style='margin-left:-23.4pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=289 valign=top style='width:216.7pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.25in;margin-bottom:.0001pt;line-height:normal;page-break-after:
  avoid'><a href="img/MVR%20Status.png"><span style='color:windowtext;
  text-decoration:none'><img border=0 width=253 height=202 id="Picture 43"
  src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image019.png"
  alt="Partial Dependency MVR Status"></span></a></p>
  <p class=MsoCaption style='margin-left:.25in'>Figure 17 Partial Dependency
  MVR Status</p>
  </td>
  <td width=318 valign=top style='width:238.7pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
  margin-left:.25in;margin-bottom:.0001pt;line-height:normal;page-break-after:
  avoid'><a href="img/MVR%20Status%20Age.png"><span style='color:windowtext;
  text-decoration:none'><img border=0 width=282 height=202 id="Picture 44"
  src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image020.png"
  alt="Partial Dependency MVR Status Age"></span></a></p>
  <p class=MsoCaption style='margin-left:.25in'>Figure 18 Partial Dependency
  MVR Status Age</p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='margin-left:9.0pt'>&nbsp;</p>

<p class=MsoNormal>Driver and Vehicle Numbers. Not clear if the numbers are
related to real life use of the vehicles or it's just numbers used in
documentation. The higher the number the higher accident risk.</p>

<p class=MsoNormal>Vehicle Body Type. The original feature has many levels due
to non- standardized data. There is the same dependency as in the vehicle dimensions.
The smaller the vehicle, the less chance of an accident. VANs, pickups, wagons
have higher risk then sedans and coupes.</p>

<p class=MsoNormal style='page-break-after:avoid'><a
href="img/Vehicle%20Body%20Type.png"><span style='color:windowtext;text-decoration:
none'><img border=0 width=276 height=203 id="Picture 46"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image021.png"
alt="Partial Dependency Vehicle Body Type"></span></a></p>

<p class=MsoCaption>Figure 19 Partial Dependency Vehicle Body Type</p>

<p class=MsoNormal>Good Driver Flag(Discount) Most of the drivers are good, but
it does not mean they have less risk of accidents. In fact, good drivers have a
higher risk. Super drivers indeed have less chance of accidents.</p>

<p class=MsoNormal style='page-break-after:avoid'><a href="img/Good%20Driver.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=275
height=202 id="Picture 47"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image022.png"
alt="Partial Dependency Good Driver"></span></a></p>

<p class=MsoCaption>Figure 20 Partial Dependency Good Driver</p>

<p class=MsoNormal>Accident Last Infraction Age. There is the same dependency
as with MVR Status and Age. The older a previous accident the higher chance of
a new one. Interesting enough, Accident Points feature is not important to
impact the result.</p>

<p class=MsoNormal style='page-break-after:avoid'><a
href="img/Accident%20Last%20Infraction%20Age.png"><span style='color:windowtext;
text-decoration:none'><img border=0 width=263 height=202 id="Picture 48"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image023.png"
alt="Partial Dependency Accident Last Infraction Age"></span></a></p>

<p class=MsoCaption>Figure 21 Partial Dependency Accident Last Infraction Age</p>

<p class=MsoNormal>Marital Status. Single persons have higher chance to cause
an accident. It maybe related to the fact there are more single between youth
and elderly.</p>

<p class=MsoNormal style='page-break-after:avoid'><a
href="img/Marital%20Status.png"><span style='color:windowtext;text-decoration:
none'><img border=0 width=249 height=202 id="Picture 49"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image024.png"
alt=" Partial Dependency Marital Status "></span></a></p>

<p class=MsoCaption>Figure 22 Partial Dependency Marital Status</p>

<p class=MsoNormal>Carpool Flag (Discount). There are less accidents if drivers
are carpool. It's naturally to carpool only if you are really a good driver. On
the other hand, there are very few Yes in the data. The result maybe biased by
the data collection. Anyway, it is not high important feature.</p>

<p class=MsoNormal style='page-break-after:avoid'><a href="img/Carpool.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=337
height=202 id="Picture 50"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image025.png"
alt="Partial Dependency Carpool Flag (Discount)"></span></a></p>

<p class=MsoCaption>Figure 23 Partial Dependency Carpool Flag (Discount)</p>

<p class=MsoNormal>Gender can be excluded from the model. It does not make a
lot of difference. Just interesting to notice, female have a higher risk of an
accident then male.</p>

<p class=MsoNormal style='page-break-after:avoid'><a href="img/Gender.png"><span
style='color:windowtext;text-decoration:none'><img border=0 width=292
height=202 id="Picture 51"
src="Auto%20Insurance%20Risk%20Classification%20and%20Claim%20Prediction_files/image026.png"
alt=" Partial Dependency of Gender "></span></a></p>

<p class=MsoCaption>Figure 24 Partial Dependency of Gender</p>

<h1><a name="_Toc513026274">Regression Model (loss cost)</a></h1>

<h1><a name="_Toc513026275">DW Data Model for Predicted Data and Models
description</a></h1>

<h1><a name="_Toc513026276">Pentaho SPOON ETL to predict and re-train the model</a></h1>

<h1><a name="_Toc513026277">Dashboards</a></h1>

<h1><a name="_Toc513026278">Summary</a></h1>

<p class=MsoNormal>This is a multistage project. </p>

<p class=MsoNormal>At first stage the data sources were researched and the design
of a DW data model with the risks items was created. While the work on DW ETL
to include risks items data is still in progress, the data set for a machine
learning model was built from the source data source and partially from DW
what's already available. The SQL is quite cumbersome and does not allow to
include all needed features.</p>

<p class=MsoNormal>Base and Extended classification machine learning models
were created using XGB. The set of available in the system features was
investigated to explain how they impact the risk of At Fault claim. Two
additional features were discovered (vehicle length and width) to improve the
prediction result.</p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
